<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="http://d3js.org/d3.v3.min.js"></script>
	<script src="http://d3js.org/topojson.v1.min.js"></script>	
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>   
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <title>Vizualizacija podataka</title>
</head>
<body>	
	<div>
		<div  id="show" style="z-index: 5; position:absolute"></div>
		<div id="main"></div>
		<div class="graf">
			graf
		</div>
	</div>
    
    <script>   
		
		var width = 960;
		var height = 700;
		var projection = d3.geo.mercator()
 			.center([0, 10])
 			.scale(6000)
			.translate([17600, 4500])
 			.rotate([-180, 0]);
		var path = d3.geo.path()
 			.projection(projection);
		//kontenjer svg
		var svg = d3.select("#main").append("svg")			
 			.attr("width", width)
 			.attr("height", height)
 			.style("background", "white")
 			.call(d3.behavior.zoom().on("zoom", function () {
   				 svg.attr("transform", "translate(" + d3.event.translate + ")" + " scale(" + d3.event.scale + ")")
 			}))
  			.append("g");	

 		d3.json("cro_regv3.json", function(error, cro) {
 			var data = topojson.feature(cro, cro.objects.layer1);

 			var states = svg.selectAll("path.county")
 			.data(data.features)
			 .enter()
			 .append("g")			 
			 .append("path")
			 
 			.on("mouseover", function(d){
				var path = d3.select("#"+d.id);
				d3.select("#show").html(d.properties.name)
				.style("border", "1px solid black")	
				path.attr("fill", "#0c6091")										
			})				
			.on("mouseleave",function(d,i){
				d3.select("#show").html("")		
				.style("border", "0px solid black")	
				var path = d3.select("#"+d.id);		
				path.attr("fill", "#42b3f5") 	
			})
			.attr("class", "county")					 
 			.attr("id", function(d) { return d.id; })
 			.attr("d", path)
 			.attr("fill", "#42b3f5") 			
			.style("stroke-width", 1)
			.style("stroke", "black")
 			.style("stroke-opacity", 1);	
		});
    
        document.onmousemove = function(e) { 
            var x = e.clientX; 
            var y = e.clientY; 
            document.getElementById('show').style.marginLeft = (x+50)+"px";
            document.getElementById('show').style.marginTop = (y-25)+"px";				
        }
	</script>

</body>
</html>

<style>
.county:hover{
	cursor: pointer
}
#show{	
	background-color: white;	
	padding: 5px;
	border-radius: 5px;
}

</style>